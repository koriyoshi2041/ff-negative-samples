# FF vs BP è¿ç§»å­¦ä¹ è¡¨å¾åˆ†ææŠ¥å‘Š

**å®éªŒæ—¥æœŸ:** 2026-02-05  
**åˆ†ææ¡†æ¶:** CKA + Linear Probing  
**æ•°æ®é›†:** MNIST (28Ã—28 ç°åº¦å›¾åƒï¼Œ10åˆ†ç±»)

---

## 1. å®éªŒè®¾ç½®

### 1.1 ç½‘ç»œæ¶æ„

| é…ç½® | FF ç½‘ç»œ | BP ç½‘ç»œ |
|-----|--------|--------|
| è¾“å…¥å±‚ | 784 (28Ã—28) | 784 |
| éšè—å±‚ | [500, 500, 500] | [500, 500, 500] |
| è¾“å‡ºå±‚ | 10 (via goodness) | 10 (softmax) |
| æ¿€æ´»å‡½æ•° | ReLU + LayerNorm | ReLU |
| è®­ç»ƒè½®æ•° | 15 epochs | 15 epochs |

### 1.2 è®­ç»ƒå‚æ•°

- **FF**: lr=0.03, threshold=2.0, Adam optimizer
- **BP**: lr=0.001, CrossEntropy loss, Adam optimizer
- **Batch size**: 64

---

## 2. åŸºç¡€æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | FF ç½‘ç»œ | BP ç½‘ç»œ | å·®è· |
|-----|--------|--------|------|
| **æœ€ç»ˆæµ‹è¯•å‡†ç¡®ç‡** | ~93.94% | ~98.28% | **-4.34%** |
| **æ”¶æ•›é€Ÿåº¦** | è¾ƒæ…¢ | è¾ƒå¿« | BP æ›´å¿« |

**å…³é”®å‘ç°:** BP åœ¨ç›¸åŒæ¶æ„ä¸‹å‡†ç¡®ç‡é«˜å‡ºçº¦ 4%ï¼Œè¯´æ˜ FF çš„å±€éƒ¨å­¦ä¹ å­˜åœ¨ä¸€å®šä»£ä»·ã€‚

---

## 3. CKA è¡¨å¾ç›¸ä¼¼åº¦åˆ†æ

### 3.1 FF vs BP è·¨ç½‘ç»œ CKA çŸ©é˜µ

| FF Layer | BP Layer 0 | BP Layer 1 | BP Layer 2 | BP Layer 3 |
|----------|-----------|-----------|-----------|-----------|
| **Layer 0** | **0.444** | 0.37 | 0.17 | 0.14 |
| **Layer 1** | 0.31 | **0.330** | 0.15 | 0.11 |
| **Layer 2** | 0.08 | 0.09 | **0.038** | 0.04 |

### 3.2 åŒå±‚ç›¸ä¼¼åº¦ï¼ˆå¯¹è§’çº¿ï¼‰

| å±‚ | CKA ç›¸ä¼¼åº¦ | è§£é‡Š |
|----|-----------|------|
| Layer 0 | **0.444** | æ—©æœŸå±‚ç›¸å¯¹ç›¸ä¼¼ |
| Layer 1 | **0.330** | ä¸­é—´å±‚å¼€å§‹åˆ†åŒ– |
| Layer 2 | **0.038** | âš ï¸ **é«˜å±‚è¡¨å¾å·®å¼‚å·¨å¤§** |

**å¹³å‡åŒå±‚ CKA: 0.270**ï¼ˆå¾ˆä½ï¼Œè¡¨æ˜ FF å’Œ BP å­¦åˆ°äº†éå¸¸ä¸åŒçš„è¡¨å¾ï¼‰

### 3.3 ç½‘ç»œå†…éƒ¨ Self-CKA

**FF Network Self-CKA:**
| | L0 | L1 | L2 |
|---|---|---|---|
| **L0** | 1.00 | 0.72 | **0.03** |
| **L1** | 0.72 | 1.00 | **0.05** |
| **L2** | **0.03** | **0.05** | 1.00 |

**BP Network Self-CKA:**
| | L0 | L1 | L2 | L3 |
|---|---|---|---|---|
| **L0** | 1.00 | 0.63 | 0.39 | 0.37 |
| **L1** | 0.63 | 1.00 | 0.74 | 0.66 |
| **L2** | 0.39 | 0.74 | 1.00 | 0.77 |
| **L3** | 0.37 | 0.66 | 0.77 | 1.00 |

| æŒ‡æ ‡ | FF ç½‘ç»œ | BP ç½‘ç»œ |
|-----|--------|--------|
| **å¹³å‡éå¯¹è§’ CKA** | 0.264 | **0.592** |

**å…³é”®å‘ç°:** 
- BP å„å±‚ä¹‹é—´çš„ç›¸å…³æ€§ï¼ˆ0.592ï¼‰è¿œé«˜äº FFï¼ˆ0.264ï¼‰
- **âš ï¸ FF Layer 2 ä¸ Layer 0/1 çš„ç›¸å…³æ€§æä½ï¼ˆ0.03-0.05ï¼‰**
- è¿™è¡¨æ˜ **FF çš„æœ€åä¸€å±‚ä¸å‰é¢å±‚å‡ ä¹å®Œå…¨ç‹¬ç«‹**
- è¿™æ˜¯"å±‚é—´ä¿¡æ¯æ–­è£‚"çš„å¼ºæœ‰åŠ›è¯æ®

---

## 4. å…³é”®å‘ç°

### 4.1 ğŸ”´ é«˜å±‚è¡¨å¾å·®å¼‚å·¨å¤§

Layer 2ï¼ˆæœ€æ¥è¿‘è¾“å‡ºçš„éšè—å±‚ï¼‰çš„ CKA ç›¸ä¼¼åº¦ä»…ä¸º **0.038**ï¼Œè¿™æ„å‘³ç€ï¼š
- FF å’Œ BP åœ¨é«˜å±‚å­¦åˆ°äº†å‡ ä¹å®Œå…¨ä¸åŒçš„è¡¨å¾
- FF çš„é«˜å±‚å¯èƒ½è¿‡äº"task-specific"ï¼Œåªå…³æ³¨ goodness score

### 4.2 ğŸ”´ FF å±‚é—´ä¿¡æ¯æ–­è£‚

FF çš„ Self-CKAï¼ˆ0.264ï¼‰è¿œä½äº BPï¼ˆ0.592ï¼‰ï¼š
- **è§£é‡Š:** FF ä¸­æ¯å±‚ç‹¬ç«‹ä¼˜åŒ–ï¼Œå±‚ä¸å±‚ä¹‹é—´ç¼ºä¹åä½œ
- **å½±å“:** æ—©æœŸå±‚å­¦åˆ°çš„ä¿¡æ¯å¯èƒ½æ— æ³•æœ‰æ•ˆä¼ é€’åˆ°åç»­å±‚

### 4.3 ğŸŸ¡ æ—©æœŸå±‚ç›¸å¯¹ç›¸ä¼¼

Layer 0 çš„ CKA ä¸º 0.444ï¼Œè¿™æ˜¯æœ€é«˜å€¼ï¼š
- æ—©æœŸå±‚å¯èƒ½å­¦åˆ°äº†ç±»ä¼¼çš„ä½çº§ç‰¹å¾ï¼ˆè¾¹ç¼˜ã€çº¹ç†ç­‰ï¼‰
- è¿™ä¸ç»å…¸è¿ç§»å­¦ä¹ ç†è®ºä¸€è‡´

### 4.4 ğŸ”´ è¿ç§»æ€§é—®é¢˜çš„æ ¹æº

åŸºäºä»¥ä¸Šå‘ç°ï¼ŒFF è¿ç§»æ€§å·®çš„åŸå› å¯èƒ½æ˜¯ï¼š

1. **æ— å…¨å±€æ¢¯åº¦æµ:** æ²¡æœ‰ BP çš„æ¢¯åº¦é“¾å°†ä»»åŠ¡ä¿¡æ¯ä¼ å›æ—©æœŸå±‚
2. **å±‚é—´ç‹¬ç«‹ä¼˜åŒ–:** æ¯å±‚åªå…³æ³¨è‡ªå·±çš„ goodnessï¼Œä¸å…³å¿ƒæ•´ä½“ä»»åŠ¡
3. **è¡¨å¾è¿‡äºç‰¹å®š:** ä¸ºå½“å‰ goodness ä¼˜åŒ–ï¼Œä¸¢å¼ƒäº†é€šç”¨ç‰¹å¾

---

## 5. ä¸ç›¸å…³å·¥ä½œçš„å¯¹æ¯”

### 5.1 ä¸ Brenig et al. (2023) çš„ä¸€è‡´æ€§

æˆ‘ä»¬çš„å‘ç°ä¸è®ºæ–‡ "A Study of Forward-Forward Algorithm for Self-Supervised Learning" ä¸€è‡´ï¼š
> "The forward-forward algorithm focuses more on the boundaries and drops part of the information unnecessary for making decisions"

### 5.2 å±‚é—´åä½œé—®é¢˜

ä¸ Lorberbom et al. (AAAI 2024) "Layer Collaboration in the Forward-Forward Algorithm" çš„åˆ†æä¸€è‡´ï¼š
> "The forward-forward process does not enable the flow of information to earlier layers"

---

## 6. å¯è§†åŒ–ç»“æœ

ç”Ÿæˆçš„å¯è§†åŒ–å›¾è¡¨ï¼š
- `cka_ff_vs_bp.png`: FF vs BP è·¨ç½‘ç»œ CKA çƒ­åŠ›å›¾
- `cka_self_comparison.png`: FF å’Œ BP å„è‡ªçš„ Self-CKA å¯¹æ¯”
- `cka_diagonal.png`: åŒå±‚ç›¸ä¼¼åº¦æ¡å½¢å›¾

---

## 7. ç»“è®º

### 7.1 æ ¸å¿ƒç»“è®º

1. **FF å’Œ BP å­¦åˆ°çš„è¡¨å¾å·®å¼‚æ˜¾è‘—**ï¼Œå°¤å…¶åœ¨é«˜å±‚ï¼ˆCKA ä»… 0.038ï¼‰
2. **FF å­˜åœ¨"å±‚é—´ä¿¡æ¯æ–­è£‚"ç°è±¡**ï¼ŒSelf-CKA è¿œä½äº BP
3. **è¿™äº›å·®å¼‚æ˜¯ FF è¿ç§»æ€§å·®çš„å…³é”®åŸå› **

### 7.2 æ”¹è¿›å»ºè®®

1. **å¼•å…¥å±‚é—´åä½œæœºåˆ¶:** å¦‚ Lorberbom et al. æå‡ºçš„ Layer Collaboration FF
2. **ä¿®æ”¹ Goodness å‡½æ•°:** é¼“åŠ±å­¦ä¹ æ›´é€šç”¨çš„è¡¨å¾
3. **æ·»åŠ è·¨å±‚æ­£åˆ™åŒ–:** å‡å°‘å±‚é—´çš„ä¿¡æ¯æ–­è£‚

---

## 8. é™„å½•ï¼šæ•°å€¼ç»“æœ

```json
{
  "cka_diagonal": [0.444, 0.330, 0.038],
  "mean_diagonal_cka": 0.270,
  "ff_self_cka_mean_offdiag": 0.264,
  "bp_self_cka_mean_offdiag": 0.592
}
```

---

**æŠ¥å‘ŠçŠ¶æ€:** å®Œæˆ  
**ä¸‹ä¸€æ­¥:** ç­‰å¾… Linear Probing ç»“æœæ›´æ–°æŠ¥å‘Š
